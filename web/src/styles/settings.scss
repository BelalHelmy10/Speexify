// ─────────────────────────────────────────────────────────────────────────────
// Speexify • Settings page polish (SCSS)
// Scope: only when "Settings" is the active route (desktop or mobile nav)
// Nothing else on the site is affected.
// ─────────────────────────────────────────────────────────────────────────────

// Brand tokens — tweak freely to match your theme
$bg: #f7f7f8;
$surface: #ffffff;
$border: #e6e6eb;
$text: #16181d;
$muted: #6f7280;

$primary: #ffd84d; // Speexify yellow
$primary-700: #f4bf00; // darker shade (spare)
$danger: #e5484d;

$rad-xl: 18px;
$rad-lg: 14px;
$rad-md: 12px;

$shadow-1: 0 10px 28px rgba(10, 14, 29, 0.07);
$shadow-2: 0 18px 42px rgba(10, 14, 29, 0.1);

// Helper to scope all rules to the Settings page only
@mixin settings-scope {
  body:has(header .nav-link.is-active[href="/settings"]),
  body:has(.mobile-drawer .mobile-link.is-active[href="/settings"]) {
    @content;
  }
}

@include settings-scope {
  // Page backdrop
  main {
    background: $bg;
  }

  // If your layout doesn't use <main>, this safely hits the first block after header
  header ~ *:first-of-type {
    background: $bg;
  }

  // Typography polish
  h1 {
    font-size: clamp(28px, 4vw, 40px);
    line-height: 1.1;
    letter-spacing: -0.01em;
    color: $text;
    margin: 18px 0 10px;
  }
  h2 {
    font-size: clamp(18px, 2.4vw, 22px);
    line-height: 1.25;
    color: $text;
    margin: 0 0 10px;
  }
  p {
    color: $muted;
  }

  // Container + (optional) two-column layout
  main .container,
  header ~ *:first-of-type .container {
    max-width: 1100px;
    margin-inline: auto;
    padding-inline: 20px;
  }

  // If your DOM is `container > div` for the page content, get a neat split
  main .container > div {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 28px;

    @media (max-width: 980px) {
      grid-template-columns: 1fr;
    }
  }

  // “Card” look for sections and standalone forms
  section,
  form:not(.nav):not(.site-header) {
    background: $surface;
    border: 1px solid $border;
    border-radius: $rad-xl;
    box-shadow: $shadow-1;
    padding: 22px;
    margin-block: 16px;
  }

  // Labels & inputs
  label {
    display: grid;
    gap: 6px;
    font-weight: 650;
    color: $text;
    margin-bottom: 10px;
  }

  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="file"],
  select,
  textarea {
    background: #fff;
    border: 1px solid $border;
    border-radius: $rad-md;
    padding: 12px 14px;
    font-size: 15px;
    color: $text;
    outline: none;
    transition: border-color 0.15s ease, box-shadow 0.15s ease;

    &:focus {
      border-color: $primary;
      box-shadow: 0 0 0 3px rgba($primary, 0.35);
    }
  }

  // Rows helper if your JSX has .row / .row.cols-2
  form {
    .row {
      display: grid;
      gap: 12px;

      &.cols-2 {
        @media (min-width: 720px) {
          grid-template-columns: 1fr 1fr;
        }
      }
    }
  }

  // Action rows
  .actions {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-top: 12px;
  }

  // Buttons (scoped — won't touch header/footer CTAs)
  .btn,
  button:not(.nav-cta):not(.mobile-cta),
  a.button {
    border-radius: 999px;
    font-weight: 800;
    padding: 10px 18px;
    font-size: 15px;
    border: 1px solid transparent;
    cursor: pointer;
    transition: transform 0.02s ease, filter 0.2s ease, background 0.2s ease,
      border 0.2s ease, color 0.2s ease;
  }

  // Primary
  .btn-primary,
  .actions button[type="submit"] {
    background: $primary;
    color: #111;

    &:hover {
      filter: brightness(0.98);
    }
    &:active {
      transform: translateY(1px);
    }
  }

  // Ghost
  .btn-ghost {
    background: #fff;
    border-color: $border;
    color: $text;

    &:hover {
      background: #fafafa;
    }
  }

  // Danger
  .btn-danger {
    background: $danger;
    color: #fff;

    &:hover {
      filter: brightness(0.96);
    }
  }

  // Disabled feel
  button[disabled] {
    opacity: 0.7;
    cursor: not-allowed;
  }

  // Optional: if your cards have .card-header with h2 + p
  .card-header {
    h2 + p {
      color: $muted;
      margin-top: 2px;
    }
  }

  // Checkbox polish
  input[type="checkbox"] {
    accent-color: $primary;
  }

  // “Danger” section (e.g., delete account)
  section.danger {
    background: #fff5f5;
    border-color: rgba($danger, 0.35);
  }
}
